# **스포티파이 서비스 분석**

- 스포티파이의 노래 추천
  - 협업필터링 방식에서 BaRT 알고리즘으로 변화	
  - 협업 필터링 방식 : 
  - 협업 필터링 방식의 콜드 스타트 문제를 해결하기 위해 BaRT 알고리즘 활용
  - 추천의 성공 여부 : 음악을 30초 이상 들었을때
  - https://brunch.co.kr/@plusx/66
    - 협업 필터링 모델 : 사용자 프로필 기반으로 음악을 추천
      - 청취 패턴, 청취 시간, 검색 기록, 나이, 성별, 위치 데이터 등
      - 단순하게 특정 아티스트를 팔로우 하는지 뿐만 아니라 얼마나 정기적으로, 어떤 플레이리스트에서 재생했는지 등 디테일한 상황까지 고려
    - 로우 오디오 모델 : 음악의 템포, 키, 특징을 고려해 노래 간의 유사성을 분석
    - 자연어 처리 모델 : 음원 속 가사 및 내용을 분석하여 생성한 태그를 기반으로 추천
  - <a href="https://blog.wishket.com/%EC%84%B8%EA%B3%84-1%EC%9C%84-%EC%9D%8C%EC%9B%90-%EC%8A%A4%ED%8A%B8%EB%A6%AC%EB%B0%8D-%EC%8A%A4%ED%8F%AC%ED%8B%B0%ED%8C%8C%EC%9D%B4-%EB%85%B8%EB%9E%98-%EC%B6%94%EC%B2%9C/ ">세계 1위 음원 스트리밍, '스포티파이'가 당신에게 노래를 추천하는 법</a>
    - 새로운 음악 추천 시스템
      - 디스커버리 위클리 : 홈화면에서 새로운 플레이리스트를 추천하는 서비스
      - 프레시 파인즈 : 블로그, 커뮤니티, 스포티파이 취향 개발자가 발굴하는 새로운 아티스트들의 음악
    - 스포티파이의 홈 화면은 바트(BaRT:음악 추천을 위한 밴딧(bandit)알고리즘)라는 AI 시스템의 결과물
      - 사용자의 음악 감상 이력을 기반으로 듣고싶어할것으로 예상되는 음악 추천
      - 안정과 모험으로 요약
        - 안정 : 과거의 정보를 활용
        - 모험 : 
    - 재생목록은 최첨단 AI를 바탕으로 생성
      - 주간추천 플레이리스트 : 사용자가 좋아하는 음악과 비슷한 사운드를 가진노래, 음악 관련 블로그의 최근 내용등을 참고해서 추천
      - 새로운 노래의 경우 정보가 없기때문에 추천 할 수 없음 : 콜드스타트
      - 음원 자체를 분석하는것으로 해결
  - https://maily.so/musicdata/posts/171104
    - 데이터 수집에 대한 압도적 투자
      - **사용자 데이터 수집** : 2016년 기준, 매월 18조개의 이벤트를 수집하며 이를 처리하기 위해 월 30만달러(한화 3억 이상)의 클라우드시스템을 이용 ([참고](https://davidmytton.blog/how-much-is-spotify-paying-google-cloud/))
      - **데이터 인프라 투자** : 2016년도에 데이터 환경을 자체 전산 설비(On-premise)에서 [구글 클라우드로 완전 이전을 발표](https://cloud.google.com/blog/products/gcp/spotify-chooses-google-cloud-platform-to-power-data-infrastructure)하고 [2년 간의 준비 끝에 약 1년 동안 이전 작업을 완료함](https://www.computerworld.com/article/3427799/how-spotify-migrated-everything-from-on-premise-to-google-cloud-platform.html)
      - **데이터 활용을 위한 환경 구축** : 예를 들면, [필요한 데이터를 찾기 쉽게 하는 내부 협업 도구를 개발](https://engineering.atspotify.com/2020/02/27/how-we-improved-data-discovery-for-data-scientists-at-spotify/)했습니다. 덕분에 스포티파이 직원은 데이터도 많이 사용합니다. [2017년 당시 500 명 이상의 순 사용자(당시 임직원의 약 20% 수준)가 8월 한달 동안 200PB의 데이터를 처리(1인당 평균 약 400TB 수준)](https://engineering.atspotify.com/2017/10/23/big-data-processing-at-spotify-the-road-to-scio-part-2/)했다고 합니다.
      - **음악 데이터의 분류** : [3천만개가 넘는 곡에 자동적으로 곡의 정서를 태깅하는 시스템을 마련](https://link.springer.com/chapter/10.1007/978-3-030-33246-4_23)했습니다.
      - **높은 R&D 연구 비율** : 스포티파이의 R&D 비용은 [8억5천만 유로](https://www.statista.com/statistics/813751/spotify-research-development-costs/) 수준입니다. 이는 2020년 매출의 10% 정도이며 2013년 R&D 비용과 비교하면 10배 정도가 상승했습니다.(참고 : [삼성전자가 매출의 9% 정도 연구개발비를 사용](https://news.joins.com/article/24008190))
    - <img src="https://cdn.maily.so/jy2j4dka016kdkfdhr3gss1fplzw" style="zoom: 50%;" >
    - 때와 장소에 맞는 추천 알고리즘의 적절한 배합
      - Step 1을 통해 얻은 다양하고 방대한 데이터를 Step 2의 기술과 결합하여 각종 추천 알고리즘을 만듭니다. 
      - [BaRT(Bandits for Recommendations as Treatments)](http://sigir.org/afirm2019/slides/16. Friday - Music Recommendation at Spotify - Ben Carterette.pdf)가 사용자 홈화면에 제시할 각종 추천 플레이리스트들을 결정합니다. 음악을 듣는 사용자의 때와 장소, 상황에 따라 추천 알고리즘도 개개인에 적합하도록 적절히 튜닝합니다.
      - 추천에 대한 사용자의 반응을 끊임없이 [평가하고 분석](https://research.atspotify.com/evaluation/)합니다. 30초 이내에 스킵을 하는지, [앨범이나 곡 상세 페이지를 열어보는지](https://research.atspotify.com/understanding-and-evaluating-user-satisfaction-with-music-discovery/), 추천 재생 목록을 많이 듣는지, [무료 이용자가 유료 이용자로 전환되게 기여하고 있는지](https://research.atspotify.com/algorithmic-effects-on-the-diversity-of-consumption-on-spotify/) 등등 사용자 단위의 분석과 비지니스 단위의 분석을 입체적으로 합니다.
    - [당신의 기분에 맞춰 음악을 추천하려 한다](https://www.bbc.com/news/entertainment-arts-55839655)는 기사나, [날씨에 기반한 추천 시도](https://www.coolaccidents.com/news/spotify-can-now-recommend-you-music-based-on-the-weather)를 보면 스포티파이는 추천 알고리즘에 개인의 선호 뿐 아니라 청취자의 현재 맥락과 환경 정보를 반영합니다. 재즈 리스너가 평균적으로 음악을 길게 청취한다든지, 잠잘 때 듣는 플레이리스트의 청취시간 같은 개인적인 정보도 추천에 반영하고 있습니다.
- 우리 앱과 비교
  - 비슷한 점
  - 차별점

- 출처
  - https://playinpap.github.io/recsys-spotify/#outro
    - https://research.atspotify.com/blog/
    - https://benanne.github.io/2014/08/05/spotify-cnns.html
    - https://towardsdatascience.com/how-spotify-recommends-your-new-favorite-artist-8c1850512af0
    - 16.Friday - Music Recommendation at Spotify - Ben Carterette
  - https://brunch.co.kr/@plusx/66
  - https://maily.so/musicdata/posts/171104